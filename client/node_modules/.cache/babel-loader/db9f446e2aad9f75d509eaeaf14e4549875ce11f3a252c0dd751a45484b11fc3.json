{"ast":null,"code":"import React,{useEffect,useState}from'react';import axios from'axios';import{Plus,Loader}from'lucide-react';// Helper function for size options\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const getSizeOptions=productName=>{return['XS','S','M','L','XL'];};const CategoryFilter=_ref=>{let{activeCategory,onCategoryChange}=_ref;const categories=['all','mens','womens','kids','jewelry','accessories'];return/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center mb-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex gap-2 p-1 bg-amber-100/50 rounded-full\",children:categories.map(category=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>onCategoryChange(category),className:`px-6 py-2 rounded-full text-sm font-medium transition-colors\n                      ${activeCategory===category?'bg-amber-900 text-white':'text-amber-900 hover:bg-amber-200'}`,children:category.charAt(0).toUpperCase()+category.slice(1)},category))})});};const ProductCard=_ref2=>{let{product,addToCart}=_ref2;const[isLoading,setIsLoading]=useState(false);const[selectedSize,setSelectedSize]=useState(null);const hasSizes=product.hasSizes;const handleAddToCart=()=>{setIsLoading(true);const productToAdd=hasSizes?{...product,size:selectedSize||'M'}:product;addToCart(productToAdd);setTimeout(()=>setIsLoading(false),500);};return/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col bg-white rounded-2xl overflow-hidden h-full\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"aspect-[4/5] overflow-hidden bg-amber-50\",children:/*#__PURE__*/_jsx(\"img\",{src:product.image,alt:product.name,className:\"w-full h-full object-cover object-center transition-transform duration-700  group-hover:scale-105\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col flex-grow p-6 bg-amber-100/50\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start gap-4 mb-3\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-amber-900 leading-tight\",children:product.name}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm font-medium text-amber-700 whitespace-nowrap\",children:[\"$\",(product.price/100).toFixed(2)]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-amber-600 line-clamp-2 mb-4\",children:product.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-auto\",children:[hasSizes&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-xs font-medium text-amber-700 mb-2\",children:\"Select Size\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-2 mb-4\",children:getSizeOptions(product.name).map(size=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSelectedSize(size),className:`w-auto px-3 h-9 rounded-full text-sm font-medium\n                             transition-colors ${selectedSize===size?'bg-amber-900 text-white':'bg-white text-amber-900 hover:bg-amber-200'}\n                             focus:outline-none focus:ring-2 focus:ring-amber-500`,children:size},size))})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleAddToCart,disabled:hasSizes&&!selectedSize,className:`w-full flex items-center justify-center gap-2 py-2 px-4 \n                     rounded-lg transition-colors ${!hasSizes||selectedSize?'bg-amber-100 hover:bg-amber-200 text-amber-900':'bg-amber-50 text-amber-400 cursor-not-allowed'}`,children:isLoading?/*#__PURE__*/_jsx(Loader,{className:\"w-4 h-4 animate-spin\"}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Plus,{className:\"w-4 h-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Add to Bag\"})]})}),product.tags&&product.tags.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"flex gap-2 text-xs text-amber-600 mt-4\",children:product.tags.map(tag=>/*#__PURE__*/_jsx(\"span\",{className:\"bg-white px-2 py-1 rounded-full\",children:tag},tag))})]})]})]});};const ProductList=_ref3=>{let{addToCart}=_ref3;const[products,setProducts]=useState([]);const[isLoading,setIsLoading]=useState(true);const[activeCategory,setActiveCategory]=useState('all');useEffect(()=>{axios.get(\"https://cozy-threads-jjot.onrender.com/products\").then(res=>{setProducts(res.data);setIsLoading(false);}).catch(err=>{console.error(\"Error fetching products:\",err);setIsLoading(false);});},[]);const filteredProducts=products.filter(product=>activeCategory==='all'||product.category===activeCategory);if(isLoading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center py-32\",children:/*#__PURE__*/_jsx(Loader,{className:\"w-8 h-8 text-amber-600 animate-spin\"})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\",children:[/*#__PURE__*/_jsx(CategoryFilter,{activeCategory:activeCategory,onCategoryChange:setActiveCategory}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8\",children:filteredProducts.map(product=>/*#__PURE__*/_jsx(ProductCard,{id:`product-${product.id}`,product:product,addToCart:addToCart},product.id))}),filteredProducts.length===0&&/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-12\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-amber-600\",children:\"No products found in this category.\"})})]});};export default ProductList;","map":{"version":3,"names":["React","useEffect","useState","axios","Plus","Loader","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","getSizeOptions","productName","CategoryFilter","_ref","activeCategory","onCategoryChange","categories","className","children","map","category","onClick","charAt","toUpperCase","slice","ProductCard","_ref2","product","addToCart","isLoading","setIsLoading","selectedSize","setSelectedSize","hasSizes","handleAddToCart","productToAdd","size","setTimeout","src","image","alt","name","price","toFixed","description","disabled","tags","length","tag","ProductList","_ref3","products","setProducts","setActiveCategory","get","then","res","data","catch","err","console","error","filteredProducts","filter","id"],"sources":["/Users/brooklyngibbs/cozy-threads/client/src/components/ProductList.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { Plus, Loader } from 'lucide-react';\n\n// Helper function for size options\nconst getSizeOptions = (productName) => {\n    return ['XS', 'S', 'M', 'L', 'XL'];\n};\n\nconst CategoryFilter = ({ activeCategory, onCategoryChange }) => {\n  const categories = ['all', 'mens', 'womens', 'kids', 'jewelry', 'accessories'];\n  \n  return (\n    <div className=\"flex justify-center mb-8\">\n      <div className=\"flex gap-2 p-1 bg-amber-100/50 rounded-full\">\n        {categories.map((category) => (\n          <button\n            key={category}\n            onClick={() => onCategoryChange(category)}\n            className={`px-6 py-2 rounded-full text-sm font-medium transition-colors\n                      ${activeCategory === category \n                        ? 'bg-amber-900 text-white' \n                        : 'text-amber-900 hover:bg-amber-200'}`}\n          >\n            {category.charAt(0).toUpperCase() + category.slice(1)}\n          </button>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nconst ProductCard = ({ product, addToCart }) => {\n  const [isLoading, setIsLoading] = useState(false);\n  const [selectedSize, setSelectedSize] = useState(null);\n  \n  const hasSizes = product.hasSizes;\n  \n  const handleAddToCart = () => {\n    setIsLoading(true);\n    const productToAdd = hasSizes \n      ? { ...product, size: selectedSize || 'M' }\n      : product;\n    \n    addToCart(productToAdd);\n    setTimeout(() => setIsLoading(false), 500);\n  };\n\n  return (\n    <div className=\"flex flex-col bg-white rounded-2xl overflow-hidden h-full\">\n      {/* Image Container - Fixed aspect ratio */}\n      <div className=\"aspect-[4/5] overflow-hidden bg-amber-50\">\n        <img \n          src={product.image} \n          alt={product.name} \n          className=\"w-full h-full object-cover object-center transition-transform duration-700 \n                   group-hover:scale-105\"\n        />\n      </div>\n\n      {/* Content - Flex grow to fill space */}\n      <div className=\"flex flex-col flex-grow p-6 bg-amber-100/50\">\n        <div className=\"flex justify-between items-start gap-4 mb-3\">\n          <h3 className=\"text-lg font-medium text-amber-900 leading-tight\">\n            {product.name}\n          </h3>\n          <span className=\"text-sm font-medium text-amber-700 whitespace-nowrap\">\n            ${(product.price / 100).toFixed(2)}\n          </span>\n        </div>\n        \n        <p className=\"text-sm text-amber-600 line-clamp-2 mb-4\">\n          {product.description}\n        </p>\n\n        {/* Size Selection */}\n        <div className=\"mt-auto\">\n          {hasSizes && (\n            <div className=\"mb-4\">\n              <label className=\"block text-xs font-medium text-amber-700 mb-2\">\n                Select Size\n              </label>\n              <div className=\"flex flex-wrap gap-2 mb-4\">\n                {getSizeOptions(product.name).map((size) => (\n                  <button\n                    key={size}\n                    onClick={() => setSelectedSize(size)}\n                    className={`w-auto px-3 h-9 rounded-full text-sm font-medium\n                             transition-colors ${\n                               selectedSize === size \n                                 ? 'bg-amber-900 text-white' \n                                 : 'bg-white text-amber-900 hover:bg-amber-200'\n                             }\n                             focus:outline-none focus:ring-2 focus:ring-amber-500`}\n                  >\n                    {size}\n                  </button>\n                ))}\n              </div>\n            </div>\n          )}\n\n          {/* Add to Cart Button */}\n          <button\n            onClick={handleAddToCart}\n            disabled={hasSizes && !selectedSize}\n            className={`w-full flex items-center justify-center gap-2 py-2 px-4 \n                     rounded-lg transition-colors ${\n                       (!hasSizes || selectedSize)\n                         ? 'bg-amber-100 hover:bg-amber-200 text-amber-900'\n                         : 'bg-amber-50 text-amber-400 cursor-not-allowed'\n                     }`}\n          >\n            {isLoading ? (\n              <Loader className=\"w-4 h-4 animate-spin\" />\n            ) : (\n              <>\n                <Plus className=\"w-4 h-4\" />\n                <span>Add to Bag</span>\n              </>\n            )}\n          </button>\n\n          {/* Tags */}\n          {product.tags && product.tags.length > 0 && (\n            <div className=\"flex gap-2 text-xs text-amber-600 mt-4\">\n              {product.tags.map(tag => (\n                <span key={tag} className=\"bg-white px-2 py-1 rounded-full\">\n                  {tag}\n                </span>\n              ))}\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst ProductList = ({ addToCart }) => {\n  const [products, setProducts] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [activeCategory, setActiveCategory] = useState('all');\n\n  useEffect(() => {\n    axios.get(\"https://cozy-threads-jjot.onrender.com/products\")\n      .then((res) => {\n        setProducts(res.data);\n        setIsLoading(false);\n      })\n      .catch((err) => {\n        console.error(\"Error fetching products:\", err);\n        setIsLoading(false);\n      });\n  }, []);\n\n  const filteredProducts = products.filter(product => \n    activeCategory === 'all' || product.category === activeCategory\n  );\n\n  if (isLoading) {\n    return (\n      <div className=\"flex justify-center items-center py-32\">\n        <Loader className=\"w-8 h-8 text-amber-600 animate-spin\" />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n\n      <CategoryFilter \n        activeCategory={activeCategory}\n        onCategoryChange={setActiveCategory}\n      />\n      \n      <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8\">\n        {filteredProducts.map((product) => (\n          <ProductCard \n            key={product.id} \n            id={`product-${product.id}`}\n            product={product} \n            addToCart={addToCart}\n          />\n        ))}\n      </div>\n\n      {filteredProducts.length === 0 && (\n        <div className=\"text-center py-12\">\n          <p className=\"text-amber-600\">\n            No products found in this category.\n          </p>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ProductList;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}